import{c,P as a,A as q,n as G,y as H,B as J,l as Q,E as V,F as X,h as d,m as f,G as Y,o as Z,k as ee,T as S,i as te}from"./index-B6RK4WsZ.js";import{F as v}from"./Fade-Cx1GhVDw.js";function P(n){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(n)}function ne(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(n,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function re(n,t,r){return t&&oe(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ie(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&T(n,t)}function T(n,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,e){return o.__proto__=e,o},T(n,t)}function ae(n){var t=ue();return function(){var o=_(n),e;if(t){var i=_(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return se(this,e)}}function se(n,t){if(t&&(P(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return le(n)}function le(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(n){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_(n)}var ce={children:a.node.isRequired,node:a.any},D=function(n){ie(r,n);var t=ae(r);function r(){return ne(this,r),t.apply(this,arguments)}return re(r,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return q?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),G.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),r}(c.Component);D.propTypes=ce;function E(n){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(n)}function x(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,o)}return r}function m(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(o){y(n,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o))})}return n}function O(){return O=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},O.apply(this,arguments)}function y(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function pe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(n,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function de(n,t,r){return t&&fe(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function he(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&F(n,t)}function F(n,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,e){return o.__proto__=e,o},F(n,t)}function me(n){var t=be();return function(){var o=k(n),e;if(t){var i=k(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return ye(this,e)}}function ye(n,t){if(t&&(E(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(n)}function l(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(n){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k(n)}function C(){}var A=a.shape(v.propTypes),M={autoFocus:a.bool,backdrop:a.oneOfType([a.bool,a.oneOf(["static"])]),backdropClassName:a.string,backdropTransition:A,centered:a.bool,children:a.node,contentClassName:a.string,className:a.string,container:ee,cssModule:a.object,external:a.node,fade:a.bool,fullscreen:a.oneOfType([a.bool,a.oneOf(["sm","md","lg","xl"])]),innerRef:a.oneOfType([a.object,a.string,a.func]),isOpen:a.bool,keyboard:a.bool,labelledBy:a.string,modalClassName:a.string,modalTransition:A,onClosed:a.func,onEnter:a.func,onExit:a.func,onOpened:a.func,returnFocusAfterClose:a.bool,role:a.string,scrollable:a.bool,size:a.string,toggle:a.func,trapFocus:a.bool,unmountOnClose:a.bool,wrapClassName:a.string,zIndex:a.oneOfType([a.number,a.string])},ge=Object.keys(M),ve={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:C,onClosed:C,modalTransition:{timeout:S.Modal},backdropTransition:{mountOnEnter:!0,timeout:S.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},w=function(n){he(r,n);var t=me(r);function r(o){var e;return pe(this,r),e=t.call(this,o),e._element=null,e._originalBodyPadding=null,e.getFocusableChildren=e.getFocusableChildren.bind(l(e)),e.handleBackdropClick=e.handleBackdropClick.bind(l(e)),e.handleBackdropMouseDown=e.handleBackdropMouseDown.bind(l(e)),e.handleEscape=e.handleEscape.bind(l(e)),e.handleStaticBackdropAnimation=e.handleStaticBackdropAnimation.bind(l(e)),e.handleTab=e.handleTab.bind(l(e)),e.onOpened=e.onOpened.bind(l(e)),e.onClosed=e.onClosed.bind(l(e)),e.manageFocusAfterClose=e.manageFocusAfterClose.bind(l(e)),e.clearBackdropAnimationTimeout=e.clearBackdropAnimationTimeout.bind(l(e)),e.trapFocus=e.trapFocus.bind(l(e)),e.state={isOpen:!1,showStaticBackdropAnimation:!1},e}return de(r,[{key:"componentDidMount",value:function(){var e=this.props,i=e.isOpen,s=e.autoFocus,u=e.onEnter;i&&(this.init(),this.setState({isOpen:!0}),s&&this.setFocus()),u&&u(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,i){if(this.props.isOpen&&!e.isOpen){this.init(),this.setState({isOpen:!0});return}this.props.autoFocus&&this.state.isOpen&&!i.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"handleBackdropClick",value:function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var i=this._dialog?this._dialog.parentNode:null;if(i&&e.target===i&&this.props.backdrop==="static"&&this.handleStaticBackdropAnimation(),!this.props.isOpen||this.props.backdrop!==!0)return;i&&e.target===i&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleTab",value:function(e){if(e.which===9&&!(this.modalIndex<r.openCount-1)){var i=this.getFocusableChildren(),s=i.length;if(s!==0){for(var u=this.getFocusedChild(),h=0,p=0;p<s;p+=1)if(i[p]===u){h=p;break}e.shiftKey&&h===0?(e.preventDefault(),i[s-1].focus()):!e.shiftKey&&h===s-1&&(e.preventDefault(),i[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(e){this._mouseDownElement=e.target}},{key:"handleEscape",value:function(e){this.props.isOpen&&e.keyCode===H.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):this.props.backdrop==="static"&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout(function(){e.setState({showStaticBackdropAnimation:!1})},100)}},{key:"onOpened",value:function(e,i){this.props.onOpened(),(this.props.modalTransition.onEntered||C)(e,i)}},{key:"onClosed",value:function(e){var i=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||C)(e),i&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&typeof this._dialog.parentNode.focus=="function"&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(J.join(", "))}},{key:"getFocusedChild",value:function(){var e,i=this.getFocusableChildren();try{e=document.activeElement}catch{e=i[0]}return e}},{key:"trapFocus",value:function(e){if(this.props.trapFocus&&this._element&&!(this._dialog&&this._dialog.parentNode===e.target)&&!(this.modalIndex<r.openCount-1)){for(var i=this.getFocusableChildren(),s=0;s<i.length;s+=1)if(i[s]===e.target)return;i.length>0&&(e.preventDefault(),e.stopPropagation(),i[0].focus())}}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch{this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=Q(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=V(),r.openCount<1&&(r.originalBodyOverflow=window.getComputedStyle(document.body).overflow),X(),r.openCount===0&&(document.body.className=d(document.body.className,f("modal-open",this.props.cssModule)),document.body.style.overflow="hidden"),this.modalIndex=r.openCount,r.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(r.openCount<=1){var e=f("modal-open",this.props.cssModule),i=new RegExp("(^| )".concat(e,"( |$)"));document.body.className=document.body.className.replace(i," ").trim(),document.body.style.overflow=r.originalBodyOverflow}this.manageFocusAfterClose(),r.openCount=Math.max(0,r.openCount-1),Y(this._originalBodyPadding)}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}},{key:"renderModalDialog",value:function(){var e,i=this,s=Z(this.props,ge),u="modal-dialog";return c.createElement("div",O({},s,{className:f(d(u,this.props.className,(e={},y(e,"modal-".concat(this.props.size),this.props.size),y(e,"".concat(u,"-centered"),this.props.centered),y(e,"".concat(u,"-scrollable"),this.props.scrollable),y(e,"modal-fullscreen",this.props.fullscreen===!0),y(e,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),typeof this.props.fullscreen=="string"),e)),this.props.cssModule),role:"document",ref:function(p){i._dialog=p}}),c.createElement("div",{className:f(d("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var i=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=i?"none":"block";var s=this.props,u=s.wrapClassName,h=s.modalClassName,p=s.backdropClassName,b=s.cssModule,j=s.isOpen,N=s.backdrop,R=s.role,I=s.labelledBy,z=s.external,U=s.innerRef,$={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":I,"aria-modal":!0,role:R,tabIndex:"-1"},g=this.props.fade,W=m(m(m({},v.defaultProps),this.props.modalTransition),{},{baseClass:g?this.props.modalTransition.baseClass:"",timeout:g?this.props.modalTransition.timeout:0}),K=m(m(m({},v.defaultProps),this.props.backdropTransition),{},{baseClass:g?this.props.backdropTransition.baseClass:"",timeout:g?this.props.backdropTransition.timeout:0}),L=N&&(g?c.createElement(v,O({},K,{in:j&&!!N,cssModule:b,className:f(d("modal-backdrop",p),b)})):c.createElement("div",{className:f(d("modal-backdrop","show",p),b)}));return c.createElement(D,{node:this._element},c.createElement("div",{className:f(u)},c.createElement(v,O({},$,W,{in:j,onEntered:this.onOpened,onExited:this.onClosed,cssModule:b,className:f(d("modal",h,this.state.showStaticBackdropAnimation&&"modal-static"),b),innerRef:U}),z,this.renderModalDialog()),L))}return null}}]),r}(c.Component);w.propTypes=M;w.defaultProps=ve;w.openCount=0;w.originalBodyOverflow=null;var Oe=["className","cssModule","tag"];function B(){return B=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},B.apply(this,arguments)}function _e(n,t){if(n==null)return{};var r=ke(n,t),o,e;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(e=0;e<i.length;e++)o=i[e],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(r[o]=n[o])}return r}function ke(n,t){if(n==null)return{};var r={},o=Object.keys(n),e,i;for(i=0;i<o.length;i++)e=o[i],!(t.indexOf(e)>=0)&&(r[e]=n[e]);return r}var Ce={className:a.string,cssModule:a.object,tag:te};function we(n){var t=n.className,r=n.cssModule,o=n.tag,e=o===void 0?"div":o,i=_e(n,Oe),s=f(d(t,"modal-body"),r);return c.createElement(e,B({},i,{className:s}))}we.propTypes=Ce;export{w as M,we as a};
